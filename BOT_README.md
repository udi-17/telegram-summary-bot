# 🤖 בוט סיכומים וניהול מלאי לטלגרם

בוט טלגרם מתקדם לניהול שליחויות, מלאי וסיכומים אוטומטיים.

## ✨ תכונות עיקריות

### 📦 ניהול שליחויות
- רישום שליחויות חדשות
- עדכון פרטי שליחויות
- מחיקת רשומות
- חיפוש מתקדם

### 📊 סיכומים אוטומטיים
- סיכום יומי
- סיכום שבועי
- סיכום חודשי
- סיכומים לפי אנשי קשר
- סיכומים לתאריכים מותאמים אישית

### 📋 ניהול מלאי
- הוספת מוצרים למלאי
- עדכון כמויות
- מעקב אחר תנועות מלאי
- התראות על מלאי נמוך
- דוחות מלאי מפורטים

### 👥 ניהול אנשי קשר
- הוספת אנשי קשר חדשים
- עריכה ומחיקה
- סיכומים לפי איש קשר

### 🔔 התראות אוטומטיות
- סיכומים יומיים בחצות
- סיכומים שבועיים ביום שני
- סיכומים חודשיים בתחילת החודש
- התראות מלאי נמוך

## 🚀 הפעלת הבוט

### הפעלה רגילה:
```bash
npm start
```

### הפעלה במצב פיתוח (עם auto-restart):
```bash
npm run dev
```

### הפעלה עם סקריפט אוטומטי (מומלץ):
```bash
./start-bot.sh
```

## 📱 פקודות הבוט

### פקודות בסיסיות:
- `/start` - התחלת עבודה עם הבוט
- `/help` - הצגת כל הפקודות

### פקודות שליחויות:
- `שליחות` - רישום שליחות חדשה
- `מחק` - מחיקת שליחות
- `חפש` - חיפוש שליחויות

### פקודות סיכומים:
- `יומי` - סיכום להיום
- `יומי [שם]` - סיכום יומי לאדם ספציפי
- `שבועי` - סיכום ל-7 הימים האחרונים
- `שבועי [שם]` - סיכום שבועי לאדם
- `חודשי` - סיכום לחודש הנוכחי
- `חודשי [שם]` - סיכום חודשי לאדם
- `סיכום [תאריך]` - סיכום לתאריך ספציפי
- `סיכום [תאריך] [שם]` - סיכום לתאריך ושם ספציפיים

### פקודות מלאי:
- `מלאי` - תפריט ניהול מלאי
- `הוסף מלאי` - הוספת מוצר חדש
- `עדכן מלאי` - עדכון כמות
- `הוצא מלאי` - הוצאת מוצרים
- `דוח מלאי` - הצגת דוח מלאי מלא
- `תנועות מלאי` - היסטוריית תנועות

### פקודות אנשי קשר:
- `אנשי קשר` - הצגת רשימת אנשי קשר
- `הוסף איש קשר` - הוספת איש קשר חדש
- `מחק איש קשר` - מחיקת איש קשר

### פקודות מנוי:
- `מנוי` - ניהול מנוי לסיכומים אוטומטיים

## 🔧 הגדרות

### טוקן הבוט:
הטוקן נמצא בקובץ `index.js` בשורה 7:
```javascript
const token = '7268100196:AAFYa_ejke6SRkhLRlF-HodxIyLW5xrk02E';
```

### תזמון סיכומים אוטומטיים:
- סיכום יומי: כל יום בחצות
- סיכום שבועי: יום שני בחצות
- סיכום חודשי: ה-1 בחודש בחצות

## 📊 מבנה המסד נתונים

### טבלת transactions:
- `id` - מזהה ייחודי
- `recipient` - שם המקבל
- `item` - פרטי הפריט
- `amount` - סכום
- `destination` - יעד
- `timestamp` - תאריך ושעה

### טבלת inventory:
- `id` - מזהה ייחודי
- `product_name` - שם המוצר
- `quantity` - כמות נוכחית
- `unit` - יחידת מידה
- `min_quantity` - כמות מינימלית
- `location` - מיקום
- `price` - מחיר
- `last_updated` - עדכון אחרון

### טבלת contacts:
- `id` - מזהה ייחודי
- `name` - שם איש הקשר

### טבלת subscriptions:
- `chat_id` - מזהה השיחה
- `type` - סוג המנוי

## 🛠️ טיפול בבעיות

### הבוט לא מתחבר:
1. בדוק שהטוקן תקין
2. בדוק חיבור לאינטרנט
3. בדוק שאין חסימה של Telegram API

### בעיות במסד נתונים:
- הקובץ `data.db` נוצר אוטומטית
- במקרה של בעיה, מחק את הקובץ והבוט ייצור חדש

### הודעות שגיאה:
- הבוט מתעד שגיאות בקונסול
- בדוק את הלוגים לפרטים נוספים

## 📝 דוגמאות שימוש

### רישום שליחות:
```
שליחות
[בחר איש קשר או הקלד שם חדש]
מוצר 150 תל אביב
```

### קבלת סיכום:
```
יומי יוסי
```

### עדכון מלאי:
```
עדכן מלאי
[בחר מוצר]
+10
```

## 🔄 עדכונים עתידיים

- [ ] ייצוא דוחות ל-Excel
- [ ] גרפים ותרשימים
- [ ] ממשק ווב לניהול
- [ ] תמיכה בקבוצות
- [ ] גיבוי אוטומטי

---

**פותח עם ❤️ לניהול יעיל ונוח**