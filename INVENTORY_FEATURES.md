# 📦 תכונות ניהול מלאי - בוט טלגרם

## ✅ התכונות שנוספו

### 🏗️ מבנה מסד הנתונים
- **טבלת `inventory`** - מידע על מוצרים במלאי
- **טבלת `inventory_movements`** - היסטוריית תנועות מלאי

### 📱 תפריט מלאי חדש
הוספה של כפתור **"מלאי"** לתפריט הראשי עם תת-תפריט:
- 📋 **הצג מלאי** - רשימת כל המוצרים
- ➕ **הוסף מוצר** - הוספת מוצר חדש
- 🔄 **עדכן כמות** - עדכון כמות מוצר קיים
- 📤 **הוצא מהמלאי** - הוצאת מוצר מהמלאי עם סיבה
- 🗑️ **מחק מוצר** - מחיקת מוצר מהמלאי
- ⚠️ **מלאי נמוך** - מוצרים שהגיעו לסף המינימום
- 📊 **תנועות מלאי** - היסטוריית 20 התנועות האחרונות

## 🎯 פונקציונליות מפורטת

### 1. הוספת מוצר חדש
**פורמט:** `שם_המוצר כמות [יחידה] [מינימום] [מיקום] [מחיר]`

**דוגמה:** `אקמול 50 קופסאות 10 מחסן_א 25.5`

**פרמטרים:**
- `שם_המוצר` - שם המוצר (חובה)
- `כמות` - כמות התחלתית (חובה)
- `יחידה` - יחידת מידה (אופציונלי, ברירת מחדל: "יחידה")
- `מינימום` - רמת מלאי מינימלית (אופציונלי, ברירת מחדל: 5)
- `מיקום` - מיקום המוצר (אופציונלי)
- `מחיר` - מחיר המוצר (אופציונלי)

### 2. עדכון כמות מוצר
- בחירת מוצר מרשימה
- הזנת כמות חיובית (הוספה) או שלילית (הפחתה)
- רישום אוטומטי של התנועה

### 3. הוצאה מהמלאי
**פורמט:** `כמות סיבה`

**דוגמה:** `5 נמכר ללקוח`

- בחירת מוצר מרשימה
- הזנת כמות להוצאה וסיבה
- בדיקת זמינות מלאי
- רישום תנועה עם סיבה

### 4. הצגת מלאי
מציג רשימה מפורטת של כל המוצרים:
- ✅ סטטוס מלאי (תקין/נמוך)
- 📦 כמות ויחידת מידה
- 📍 מיקום (אם קיים)
- 💰 מחיר (אם קיים)
- 📅 תאריך עדכון אחרון

### 5. מלאי נמוך
מציג מוצרים שהגיעו לסף המינימום:
- 🔴 סימון מוצרים בסיכון
- 💡 המלצה על כמות להזמנה
- 📍 מיקום המוצר

### 6. תנועות מלאי
מציג היסטוריית 20 התנועות האחרונות:
- ➕ הוספות למלאי
- ➖ הפחתות מהמלאי
- 📤 הוצאות מהמלאי
- 📝 סיבות לתנועות
- 📅 תאריכים ושעות

## 🔔 התראות אוטומטיות

### בדיקת מלאי יומית
- **זמן:** 08:00 כל יום
- **תוכן:** התראה על מוצרים עם מלאי נמוך
- **נמענים:** כל המנויים לעדכונים אוטומטיים

## 💾 מבנה הנתונים

### טבלת `inventory`
```sql
CREATE TABLE inventory (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    product_name TEXT NOT NULL UNIQUE,
    quantity INTEGER NOT NULL DEFAULT 0,
    unit TEXT DEFAULT 'יחידה',
    min_quantity INTEGER DEFAULT 5,
    location TEXT,
    price REAL,
    last_updated TEXT NOT NULL
);
```

### טבלת `inventory_movements`
```sql
CREATE TABLE inventory_movements (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    product_name TEXT NOT NULL,
    movement_type TEXT NOT NULL,
    quantity INTEGER NOT NULL,
    reason TEXT,
    timestamp TEXT NOT NULL
);
```

## 🎨 ממשק משתמש

### כפתורי תפריט
- **מקלדת ראשית:** כפתור "מלאי" חדש
- **תפריט מלאי:** 8 כפתורים עם פונקציות שונות
- **כפתורים אינטראקטיביים:** בחירת מוצרים מרשימה

### הודעות מעוצבות
- **Markdown formatting** לטקסט מעוצב
- **אייקונים** לזיהוי מהיר של סטטוס
- **צבעים** (אדום/ירוק) לסטטוס מלאי

## 🔧 דוגמאות שימוש

### הוספת מוצר
1. לחץ על "מלאי" → "הוסף מוצר"
2. שלח: `אקמול 50 קופסאות 10 מחסן_א 25.5`
3. המוצר יתווסף למלאי

### עדכון כמות
1. לחץ על "מלאי" → "עדכן כמות"
2. בחר מוצר מהרשימה
3. שלח: `+20` (להוספה) או `-5` (להפחתה)

### הוצאה מהמלאי
1. לחץ על "מלאי" → "הוצא מהמלאי"
2. בחר מוצר מהרשימה
3. שלח: `10 נמכר ללקוח יוסי`

## 📊 מוצרים לדוגמה שנוספו
1. **אקמול** - 25 קופסאות (מחסן א')
2. **נורופן** - 8 קופסאות (מחסן א') ⚠️ מלאי נמוך
3. **ויטמין C** - 45 בקבוקים (מחסן ב')
4. **משחת שיניים** - 3 יחידות (מחסן ג') ⚠️ מלאי נמוך
5. **שמפו** - 12 בקבוקים (מחסן ג')

## 🚀 הבוט מוכן לשימוש!

כל התכונות פעילות ומוכנות לשימוש. הבוט כולל כעת:
- ✅ ניהול שליחויות (קיים)
- ✅ ניהול אנשי קשר (קיים)
- ✅ סיכומים ודוחות (קיים)
- ✅ **ניהול מלאי מלא (חדש!)**
- ✅ התראות אוטומטיות (משופר)

---
*תיעוד נוצר אוטומטית על ידי מערכת הפיתוח*